title: Aplicação de Função com $

text: Beleza, seguindo, vamos dar uma olhada na função [code]$[/code], também chamada de <i>aplicação de função</i>. Antes de qualquer coisa, vamos ver como ela é definida:

Que negócio é esse? O que é esse operador inútil? Ele é só aplicação de função! Bem, quase, mas não exatamente! Enquanto uma aplicação de função normal (colocar um espaço entre duas coisas) tem uma precedência realmente alta, a função [code]$[/code] tem a mais baixa precedência. Aplicar função com um espaço associa à esquerda (ou seja, [code]f a b c[/code] é o mesmo que [code]((f a) b) c)[/code])); aplicar função com [code]$[/code] associa à direita.

Isto tudo é muito bacana, mas como isso irá nos ajudar? Na maioria dos casos, esta é uma função de conveniência para que nós não precisemos escrever tantos parênteses. Considere a expressão [code]sum (map sqrt [1..130])[/code]. Porque [code]$[/code] tem uma precedência tão baixa, nós podemos reescrever esta expressão como [code]sum $ map sqrt [1..130][/code], economizando de nós mesmos preciosas teclas digitadas! Quando um [code]$[/code] é encontrado, a expressão a sua direita é aplicada como um parâmetro da função a sua esquerda. Como seria [code]sqrt 3 + 4 + 9[/code]? Isto soma juntos 9, 4 e a raiz quadrada de 3. Se quiséssemos a raiz quadrada de <i>3 + 4 + 9</i>, teríamos de escrever [code]sqrt (3 + 4 + 9)[/code] ou, se usássemos [code]$[/code], poderíamos escrever [code]sqrt $ 3 + 4 + 9[/code] porque [code]$[/code] tem a menor precedência sobre qualquer operador. E é por isso que você pode imaginar um [code]$[/code] como sendo meio que o equivalente a abrir um parênteses e então fechar um parênteses no lado direito da sua expressão.

E que tal [code]sum (filter (&gt; 10) (map (*2) [2..10]))[/code]? Bem, como [code]$[/code] é associativo à direita, [code]f (g (z x))[/code] é igual a [code]f $ g $ z x[/code].  E então nós podemos reescrever [code]sum (filter (&gt; 10) (map (*2) [2..10]))[/code] como [code]sum $ filter (&gt; 10) $ map (*2) [2..10][/code]

Mas além de nos livrar de parênteses, [code]$[/code] significa que a aplicação de função pode ser tratada como apenas outra função. Dessa forma, nós podemos, por exemplo, mapear a aplicação de função em uma lista de funções.
